# JSX

## Notes

### JSX
- JSX stands for JavaScript XML. It's a syntax extension for JavaScript that looks similar to HTML or XML.
- However, It's just translating those HTML tags into `React.createElement` calls.
- Example : 
```js
const Pizza = (props) => {
  return React.createElement("div", {}, [
    React.createElement("h2", {}, props.name),
    React.createElement("p", {}, props.description)
  ])
}
```
    The above code can be rewritten using JSX as:
```jsx 
const Pizza = (props) => {
  return (
    <div>
      <h2>{props.name}</h2>
      <p>{props.description}</p>
    </div>
  )
}
```

### ESlint for JSX / React

- we need to add dev dependencies for `eslint-plugin-react`
- In `eslint.config.mjs`, we add specific configurations to handle React and JSX syntax correctly:
  - **`import reactPlugin from "eslint-plugin-react"`**: Imports the plugin to enable React-specific linting rules.
  - **`...reactPlugin.configs.flat.recommended`**: Loads the standard recommended rules for React development.
  - **`settings: { react: { version: "detect" } }`**: Automatically detects the installed React version to apply the appropriate rules.
  - **`reactPlugin.configs.flat["jsx-runtime"]`**: Disables rules that require `import React from 'react'` when using JSX, as modern React (v17+) uses a new JSX transform.
  - **`jsx: true`**: Enables JSX parsing support in the language options.

### Changing the App.js to App.jsx
- we start to change the App.js file to App.jsx cause we've already done with vanilla js and manual build steps.
- also we need to change the script tag in index.html to point to App.jsx instead of App.js

### Setting up API server
- we use fastify server for backend (Pizza API), it is available in [API directory](https://github.com/btholt/citr-v9-project/tree/main/api). So we just need to clone and copy the directory and then serve it.
- the endpoint is available on `http://localhost:3000/api/pizzas`

### Setting up proxy
- Since our frontend runs on port `5173` (Vite default) and our backend API runs on port `3000`, we need a way to connect them without hitting CORS (Cross-Origin Resource Sharing) issues.
- We configure a **Proxy** in `vite.config.js`. This acts as a bridge.
- **How it works**:
  1. The frontend makes a request to its own server (e.g., `/api/pizzas`).
  2. Vite intercepts any request starting with `/api` or `/public`.
  3. Vite forwards these requests to the backend server at `http://localhost:3000`.
  4. The browser thinks it's talking to the same server, avoiding security blocks.
- Configuration in `vite.config.js`:
  ```javascript
  server: {
    proxy: {
      "/api": {
        target: "http://localhost:3000",
        changeOrigin: true,
      },
      "/public": {
        target: "http://localhost:3000",
        changeOrigin: true,
      }
    }
  }
  ``` 

### Adding static assets for Pizza
- We add images for the pizzas in the `public/pizzas` directory.
- Then we update the `App.jsx` to include the image prop when rendering the `Pizza` component.